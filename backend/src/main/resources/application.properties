# Main Application Configuration
spring.profiles.active=${SPRING_PROFILES_ACTIVE:development}
spring.application.name=chatbot-saas-v2.1

# Single Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/traloitudong_db
spring.datasource.username=traloitudong_user
spring.datasource.password=traloitudong_Admin_2025
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Database Connection Pool
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=20000

# Redis Configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# RabbitMQ Configuration
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=admin
spring.rabbitmq.password=admin123
spring.rabbitmq.virtual-host=/

# Security Configuration
spring.security.jwt.secret=${JWT_SECRET:Hh52JKs3NlFlk7MpT6VYjIML9Zn7sgfhW67X7j3Xr8Y=}
spring.security.jwt.expiration=${JWT_EXPIRATION:86400000}

# Server Configuration
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/api

# Management Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized

# Logging Configuration
logging.level.com.chatbot=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# SpringDoc OpenAPI Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.api-docs.enabled=true
springdoc.swagger-ui.path=/swagger-ui/index.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.docExpansion=none
springdoc.swagger-ui.disable-swagger-default-url=true
springdoc.swagger-ui.displayRequestDuration=true
springdoc.swagger-ui.showExtensions=true
springdoc.swagger-ui.showCommonExtensions=true
springdoc.swagger-ui.tryItOutEnabled=false

# Application Properties
app.name=Chatbot SaaS v2.1
app.version=0.1.0
app.description=Multi-tenant Chatbot Platform with Hub & Spoke Architecture

# Hub Configuration
app.hubs.identity.enabled=true
app.hubs.identity.port=50051
app.hubs.user.enabled=true
app.hubs.user.port=50052
app.hubs.tenant.enabled=true
app.hubs.tenant.port=50053
app.hubs.app.enabled=true
app.hubs.app.port=50054
app.hubs.billing.enabled=true
app.hubs.billing.port=50055
app.hubs.wallet.enabled=true
app.hubs.wallet.port=50056
app.hubs.config.enabled=true
app.hubs.config.port=50057
app.hubs.message.enabled=true
app.hubs.message.port=50058

# gRPC Server Port Configuration
identity.grpc.server.port=50051
user.grpc.server.port=50052
tenant.grpc.server.port=50053
app.grpc.server.port=50054
billing.grpc.server.port=50055
wallet.grpc.server.port=50056
config.grpc.server.port=50057
message.grpc.server.port=50058

# Integration Configuration
app.integrations.botpress.enabled=true
app.integrations.botpress.api-url=${BOTPRESS_API_URL:http://localhost:3000}
app.integrations.botpress.admin-token=${BOTPRESS_ADMIN_TOKEN:}

app.integrations.odoo.enabled=true
app.integrations.odoo.url=${ODOO_URL:http://localhost:8069}
app.integrations.odoo.database=${ODOO_DATABASE:odoo}
app.integrations.odoo.username=${ODOO_USERNAME:admin}
app.integrations.odoo.password=${ODOO_PASSWORD:admin}

app.integrations.minio.enabled=true
app.integrations.minio.endpoint=${MINIO_ENDPOINT:http://localhost:9000}
app.integrations.minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
app.integrations.minio.secret-key=${MINIO_SECRET_KEY:minioadmin}
app.integrations.minio.bucket=${MINIO_BUCKET:chatbot-files}

# Import Hub-Specific Configurations (excluding database configs)
spring.config.import=optional:classpath:application-penny.properties

# Facebook AutoConnect Configuration
facebook.autoConnect.appId=${FACEBOOK_APP_ID:your-facebook-app-id}
facebook.autoConnect.appSecret=${FACEBOOK_APP_SECRET:your-facebook-app-secret}
facebook.autoConnect.redirectUri=${FACEBOOK_REDIRECT_URI:http://localhost:8080/api/facebook/auth/callback}
facebook.autoConnect.apiVersion=${FACEBOOK_API_VERSION:v18.0}

# MinIO Configuration (additional properties)
minio.endpoint=${MINIO_ENDPOINT:http://localhost:9000}
minio.access.key=${MINIO_ACCESS_KEY:minioadmin}
minio.accessKey=${MINIO_ACCESS_KEY:minioadmin}
minio.secretKey=${MINIO_SECRET_KEY:minioadmin}
minio.secret.key=${MINIO_SECRET_KEY:minioadmin}
minio.bucket=${MINIO_BUCKET:chatbot-files}
minio.bucket.name=${MINIO_BUCKET:chatbot-files}

# Odoo Configuration (additional properties)
odoo.url=${ODOO_URL:http://localhost:8069}
odoo.database=${ODOO_DATABASE:odoo}
odoo.db=${ODOO_DATABASE:odoo}
odoo.username=${ODOO_USERNAME:admin}
odoo.password=${ODOO_PASSWORD:admin}
